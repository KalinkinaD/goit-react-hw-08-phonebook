(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[2],{15:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=n(18),a=n.n(r),c=n(4);a.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com/";var o=function(t){a.a.defaults.headers.common.Authorization="Bearer ".concat(t)},u=function(){a.a.defaults.headers.common.Authorization=""},i={register:function(t){return function(e){e(c.a.registerRequest()),a.a.post("/users/signup",t).then((function(t){o(t.data.token),e(c.a.registerSuccess(t.data))})).catch((function(t){return e(c.a.registerError(t))}))}},logOut:function(){return function(t){t(c.a.logoutRequest()),a.a.post("/users/logout").then((function(){u(),t(c.a.logoutSuccess())})).catch((function(e){return t(c.a.logoutError(e))}))}},logIn:function(t){return function(e){e(c.a.loginRequest()),a.a.post("/users/login",t).then((function(t){o(t.data.token),e(c.a.loginSuccess(t.data))})).catch((function(t){return e(c.a.loginError(t))}))}},getCurrentUser:function(){return function(t,e){var n=e().auth.token;n&&(o(n),t(c.a.getCurrentUserRequest()),a.a.get("/users/current").then((function(e){var n=e.data;return t(c.a.getCurrentUserSuccess(n))})).catch((function(t){return c.a.getCurrentUserError(t)})))}}},s={isAuthenticated:function(t){return t.auth.token},getUserName:function(t){return t.auth.user.name}};n(24)},24:function(t,e,n){"use strict";var r,a,c,o=n(3),u=n(6),i=n(1),s=n(4),l={name:null,email:null},b=Object(i.c)(l,(r={},Object(o.a)(r,s.a.registerSuccess,(function(t,e){return e.payload.user})),Object(o.a)(r,s.a.logInSuccess,(function(t,e){return e.payload.user})),Object(o.a)(r,s.a.getCurrentUserSuccess,(function(t,e){return e.payload})),Object(o.a)(r,s.a.logoutSuccess,(function(){return l})),r)),g=Object(i.c)(null,(a={},Object(o.a)(a,s.a.registerSuccess,(function(t,e){return e.payload.token})),Object(o.a)(a,s.a.logInSuccess,(function(t,e){return e.payload.token})),Object(o.a)(a,s.a.logoutSuccess,(function(){return null})),a)),f=Object(i.c)(null,(c={},Object(o.a)(c,s.a.registerError,(function(t,e){return e.payload})),Object(o.a)(c,s.a.logInError,(function(t,e){return e.payload})),Object(o.a)(c,s.a.logoutError,(function(t,e){return e.payload})),Object(o.a)(c,s.a.getCurrentUserError,(function(t,e){return e.payload})),c));e.a=Object(u.c)({user:b,token:g,error:f})},29:function(t,e,n){t.exports={logo:"Logo_logo__1IqI0",appear:"Logo_appear__3v0Mr",appearActive:"Logo_appearActive__2JE9h"}},33:function(t,e,n){"use strict";var r=n(13),a=function(t){return t.contacts.items},c=function(t){return t.contacts.filter},o=Object(r.a)([a,c],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}));e.a={getContact:a,getLoading:function(t){return t.contacts.loading},getFilter:c,getFilteredContacts:o}},4:function(t,e,n){"use strict";var r=n(1),a=Object(r.b)("auth/registerRequest"),c=Object(r.b)("auth/registerSuccess"),o=Object(r.b)("auth/registerError"),u=Object(r.b)("auth/loginRequest"),i=Object(r.b)("auth/loginSuccess"),s=Object(r.b)("auth/loginError"),l=Object(r.b)("auth/logoutRequest"),b=Object(r.b)("auth/logoutSuccess"),g=Object(r.b)("auth/logoutError"),f=Object(r.b)("auth/getCurrentUserRequest"),d=Object(r.b)("auth/getCurrentUserSuccess"),p=Object(r.b)("auth/getCurrentUserError");e.a={registerRequest:a,registerSuccess:c,registerError:o,logoutRequest:l,logoutSuccess:b,logoutError:g,loginRequest:u,loginSuccess:i,loginError:s,getCurrentUserRequest:f,getCurrentUserSuccess:d,getCurrentUserError:p}},49:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var r=n(0),a=n.n(r),c=n(88),o=n(29),u=n.n(o),i={appear:u.a.appear,appearActive:u.a.appearActive},s=function(){return a.a.createElement(c.a,{in:!0,appear:!0,timeout:500,classNames:i,unmountOnExit:!0},a.a.createElement("h1",null,"Phonebook"))}},56:function(t,e,n){t.exports=n(86)},83:function(t,e,n){},86:function(t,e,n){"use strict";n.r(e);var r,a,c=n(0),o=n.n(c),u=n(17),i=n.n(u),s=n(12),l=n(51),b=n(34),g=n(35),f=n(37),d=n(36),p=n(33),h=n(15),O=n(19),j=n(5),m=[{path:"/register",label:"Register",exact:!0,component:Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(8)]).then(n.bind(null,175))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(1),n.e(7)]).then(n.bind(null,181))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(c.lazy)((function(){return Promise.all([n.e(0),n.e(5),n.e(6)]).then(n.bind(null,186))})),private:!0,restricted:!1}],E=n(49),C={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},v=function(){return o.a.createElement("nav",null,o.a.createElement(O.b,{to:"/login",exact:!0,style:C.link,activeStyle:C.activeLink},"LogIn"),o.a.createElement("br",null),o.a.createElement(O.b,{to:"/register",exact:!0,style:C.link,activeStyle:C.activeLink},"Register"))},y={container:{display:"flex",alignItems:"center"},avatar:{marginRight:4},name:{fontWeight:700,marginRight:12}},S=Object(s.b)((function(t){return{name:h.b.getUserName(t),avatar:"https://icon-library.net/images/avatar-icon-images/avatar-icon-images-7.jpg"}}),{onLogout:h.a.logOut})((function(t){var e=t.avatar,n=t.name,r=t.onLogout;return o.a.createElement("div",{style:y.container},o.a.createElement("img",{src:e,alt:"",width:"32",style:y.avatar}),o.a.createElement("span",{style:y.name},"Welcome, ",n),o.a.createElement("button",{type:"button",onClick:r},"Logout"))})),k=Object(s.b)((function(t){return{isAuthenticated:h.b.isAuthenticated(t)}}))((function(t){var e=t.isAuthenticated;return o.a.createElement("header",{className:"Wrapper"},o.a.createElement(E.a,null),e?o.a.createElement(S,null):o.a.createElement(v,null))})),R=n(25),q=Object(s.b)((function(t){return{isAuthenticated:h.b.isAuthenticated(t)}}))((function(t){var e=t.component,n=t.isAuthenticated,r=Object(R.a)(t,["component","isAuthenticated"]);return o.a.createElement(j.b,Object.assign({},r,{render:function(t){return n&&r.restricted?o.a.createElement(j.a,{to:"/contacts"}):o.a.createElement(e,t)}}))})),U=function(t){var e=t.component,n=Object(R.a)(t,["component"]),r=Object(s.d)((function(t){return t.auth.token}));return o.a.createElement(j.b,Object.assign({},n,{render:function(t){return r?o.a.createElement(e,t):o.a.createElement(j.a,{to:"/login"})}}))},L=function(t){t.isloadingContacts;return o.a.createElement(O.a,null,o.a.createElement(k,null),o.a.createElement(c.Suspense,{fallback:o.a.createElement("h1",null,"Loading...")},o.a.createElement(j.d,null,m.map((function(t){return t.private?o.a.createElement(U,Object.assign({key:t.label},t)):o.a.createElement(q,Object.assign({key:t.label},t))})),o.a.createElement(j.a,{to:"/login"}))))},A=function(t){Object(f.a)(n,t);var e=Object(d.a)(n);function n(){return Object(b.a)(this,n),e.apply(this,arguments)}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){return o.a.createElement(L,this.props)}}]),n}(c.Component),x=Object(s.b)((function(t){return{isloadingContacts:p.a.getLoading(t)}}),(function(t){return{onGetCurrentUser:function(){return t(h.a.getCurrentUser())}}}))(A),w=(n(83),n(1)),I=n(21),_=n(32),z=n(52),F=n.n(z),N=n(3),P=n(53),W=n(6),B=n(9),J=Object(w.c)([],(r={},Object(N.a)(r,B.a.fetchContactSuccess,(function(t,e){return e.payload})),Object(N.a)(r,B.a.addContactSuccess,(function(t,e){return[].concat(Object(P.a)(t),[e.payload])})),Object(N.a)(r,B.a.deleteContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),r)),D=Object(w.c)("",Object(N.a)({},B.a.setFilter,(function(t,e){return e.payload}))),G=Object(w.c)(!1,(a={},Object(N.a)(a,B.a.fetchContactRequest,(function(){return!0})),Object(N.a)(a,B.a.fetchContactSuccess,(function(){return!1})),Object(N.a)(a,B.a.fetchContactError,(function(){return!1})),Object(N.a)(a,B.a.addContactRequest,(function(){return!0})),Object(N.a)(a,B.a.addContactSuccess,(function(){return!1})),Object(N.a)(a,B.a.addContactError,(function(){return!1})),Object(N.a)(a,B.a.deleteContactRequest,(function(){return!0})),Object(N.a)(a,B.a.deleteContactSuccess,(function(){return!1})),Object(N.a)(a,B.a.deleteContactError,(function(){return!1})),a)),M=Object(W.c)({items:J,filter:D,loading:G}),H=n(24),K={key:"auth",storage:F.a,whitelist:["token"]},Q=Object(w.a)({reducer:{contacts:M,auth:Object(_.a)(K,H.a)},middleware:[I.a]}),T=Object(_.b)(Q);i.a.render(o.a.createElement(s.a,{store:Q},o.a.createElement(l.a,{loading:null,persistor:T},o.a.createElement(x,null))),document.getElementById("root"))},9:function(t,e,n){"use strict";var r=n(1),a=Object(r.b)("contacts/addRequest"),c=Object(r.b)("contacts/addSuccess"),o=Object(r.b)("contacts/addError"),u=Object(r.b)("contact/deleteRequest"),i=Object(r.b)("contacts/deleteSuccess"),s=Object(r.b)("contacts/deleteError"),l=Object(r.b)("contact/fetchRequest"),b=Object(r.b)("contacts/fetchSuccess"),g=Object(r.b)("contacts/fetchError"),f=Object(r.b)("contact/filter");e.a={addContactRequest:a,addContactSuccess:c,addContactError:o,deleteContactRequest:u,deleteContactError:s,deleteContactSuccess:i,fetchContactRequest:l,fetchContactSuccess:b,fetchContactError:g,setFilter:f}}},[[56,3,4]]]);
//# sourceMappingURL=main.6c9b714e.chunk.js.map